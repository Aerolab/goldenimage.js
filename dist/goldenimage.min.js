!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.goldenimage=t():e.goldenimage=t()}(this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var r=new FileReader;r.onload=function(e){var r=new DataView(e.target.result);if(65496!=r.getUint16(0,!1))return t(-2);for(var a=r.byteLength,n=2;n<a;){var o=r.getUint16(n,!1);if(n+=2,65505==o){if(1165519206!=r.getUint32(n+=2,!1))return t(-1);var i=18761==r.getUint16(n+=6,!1);n+=r.getUint32(n+4,i);var f=r.getUint16(n,i);n+=2;for(var d=0;d<f;d++)if(274==r.getUint16(n+12*d,i))return t(r.getUint16(n+12*d+8,i))}else{if(65280!=(65280&o))break;n+=r.getUint16(n,!1)}}return t(-1)},r.readAsArrayBuffer(e)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];r(e,function(r){var n=new FileReader;n.addEventListener("load",function(e){var n=new Image;n.onload=function(){var e=n.width,o=n.height,i=document.createElement("canvas"),f=i.getContext("2d");[5,6,7,8].indexOf(r)>-1?(i.width=o,i.height=e):(i.width=e,i.height=o);var d=t.width||i.width;switch(r){case 2:f.transform(-1,0,0,1,e,0);break;case 3:f.transform(-1,0,0,-1,e,o);break;case 4:f.transform(1,0,0,-1,0,o);break;case 5:f.transform(0,1,1,0,0,0);break;case 6:f.transform(0,1,-1,0,o,0);break;case 7:f.transform(0,-1,-1,0,o,e);break;case 8:f.transform(0,-1,1,0,0,e);break;default:f.transform(1,0,0,1,0,0)}f.drawImage(n,0,0);var s=i.toDataURL(),c=new Image;c.src=s,c.onload=function(){var e=d/i.width;i.width=d,i.height=i.height*e,f.drawImage(c,0,0,i.width,i.height),a(i.toDataURL())}},n.src=e.target.result},!1),n.readAsDataURL(e)})};t.default=a}])});
//# sourceMappingURL=goldenimage.min.js.map
